<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="820px" height="601px" viewBox="-0.5 -0.5 820 601" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2024-04-12T02:01:46.261Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.1.0 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36&quot; etag=&quot;zhW_sK3559eCw3NMfatx&quot; version=&quot;24.1.0&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram id=&quot;6a731a19-8d31-9384-78a2-239565b7b9f0&quot; name=&quot;Page-1&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1418&quot; dy=&quot;902&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1169&quot; pageHeight=&quot;827&quot; background=&quot;none&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-41&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;72FvBA7V8tAC4avL2o-R-40&quot; target=&quot;-lXWknHKUAW8kUun5f-H-40&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;72FvBA7V8tAC4avL2o-R-40&quot; value=&quot;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px;&amp;quot;&amp;gt;NetworkFactory&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;250&quot; y=&quot;250&quot; width=&quot;130&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-46&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-lXWknHKUAW8kUun5f-H-40&quot; target=&quot;-lXWknHKUAW8kUun5f-H-45&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-40&quot; value=&quot;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;成员函数&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;RegisterTransport&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;440&quot; y=&quot;250&quot; width=&quot;130&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-43&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-lXWknHKUAW8kUun5f-H-42&quot; target=&quot;-lXWknHKUAW8kUun5f-H-40&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-42&quot; value=&quot;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;userTransports&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;用户定义的传输&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;就是&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;UDPv4TransportDescriptor&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;UDPv6TransportDescriptor&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;TCPv4TransportDescriptor&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px;&amp;quot;&amp;gt;TCPv6TransportDescriptor&amp;lt;/span&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;等等&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;390&quot; y=&quot;90&quot; width=&quot;230&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-50&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-lXWknHKUAW8kUun5f-H-45&quot; target=&quot;-lXWknHKUAW8kUun5f-H-49&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-45&quot; value=&quot;&amp;lt;div&amp;gt;&amp;lt;font style=&amp;quot;font-size: 12px;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;这里会调用&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px; background-color: initial;&amp;quot;&amp;gt;用户定义的传输的&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;create_transport&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;方法得到一个&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;TransportInterface接口&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;接口就是&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;UDPv4Transport&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;UDPv6Transport&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;TCPv4Transport&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;TCPv6Transport&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;等等&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;610&quot; y=&quot;215&quot; width=&quot;210&quot; height=&quot;130&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-53&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-lXWknHKUAW8kUun5f-H-49&quot; target=&quot;-lXWknHKUAW8kUun5f-H-51&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-49&quot; value=&quot;&amp;lt;div&amp;gt;&amp;lt;font style=&amp;quot;font-size: 12px;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;保存在&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px; background-color: initial;&amp;quot;&amp;gt;NetworkFactory的&amp;lt;/span&amp;gt;&amp;lt;font style=&amp;quot;background-color: initial; font-size: 12px;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;成员&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;mRegisteredTransports中&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;860&quot; y=&quot;250&quot; width=&quot;130&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-55&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-lXWknHKUAW8kUun5f-H-51&quot; target=&quot;-lXWknHKUAW8kUun5f-H-54&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-51&quot; value=&quot;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;调用createReceiverResources创建接收资源&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;825&quot; y=&quot;370&quot; width=&quot;200&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-52&quot; value=&quot;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px;&amp;quot;&amp;gt;RTPSParticipantImpl构造函数&amp;lt;/span&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;610&quot; width=&quot;200&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-57&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-lXWknHKUAW8kUun5f-H-54&quot; target=&quot;-lXWknHKUAW8kUun5f-H-56&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-54&quot; value=&quot;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;会调用&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px;&amp;quot;&amp;gt;NetworkFactory::&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;BuildReceiverResources&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;570&quot; y=&quot;380&quot; width=&quot;200&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-60&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-lXWknHKUAW8kUun5f-H-56&quot; target=&quot;-lXWknHKUAW8kUun5f-H-58&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-56&quot; value=&quot;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;创建接收资源通道&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;ReceiverResource&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;这里初始化会打开网络通道&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;然后这里还会创建&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;font style=&amp;quot;background-color: initial;&amp;quot; color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;XXX&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; color: rgb(0, 0, 0); font-size: 12px;&amp;quot;&amp;gt;Transport&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px; color: rgb(0, 0, 0); background-color: initial;&amp;quot;&amp;gt;对应的XXX&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;ChannelResource,&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; font-size: 12px; color: rgb(0, 0, 0);&amp;quot;&amp;gt;XXX&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;ChannelResource是一个接收线程会等待消息来临后触发&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px; background-color: initial;&amp;quot;&amp;gt;ReceiverResource::&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); background-color: initial; font-size: 12px;&amp;quot;&amp;gt;OnDataReceived&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;210&quot; y=&quot;360&quot; width=&quot;315&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-lXWknHKUAW8kUun5f-H-58&quot; value=&quot;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;将MessageReceiver与&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px;&amp;quot;&amp;gt;ReceiverResource关联，会在&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(0, 0, 0); font-size: 12px;&amp;quot;&amp;gt;OnDataReceived触发的时候触发&amp;lt;/span&amp;gt;&amp;lt;font color=&amp;quot;#000000&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;processCDRMsg函数&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;fontSize=10;labelBackgroundColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;206.25&quot; y=&quot;500&quot; width=&quot;322.5&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g><path d="M 174 280 L 227.63 280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 232.88 280 L 225.88 283.5 L 227.63 280 L 225.88 276.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="44" y="250" width="130" height="60" rx="9" ry="9" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 280px; margin-left: 45px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><span style="color: rgb(0, 0, 0); font-size: 12px;">NetworkFactory</span><br /></div></div></div></div></foreignObject><text x="109" y="283" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">NetworkFactory&#xa;</text></switch></g></g><g><path d="M 364 280 L 397.63 280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 402.88 280 L 395.88 283.5 L 397.63 280 L 395.88 276.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="234" y="250" width="130" height="60" rx="9" ry="9" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 280px; margin-left: 235px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#000000"><span style="font-size: 12px;">成员函数</span></font><div><font color="#000000"><span style="font-size: 12px;">RegisterTransport</span><br /></font></div></div></div></div></foreignObject><text x="299" y="283" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">成员函数RegisterTransport...</text></switch></g></g><g><path d="M 299 210 L 299 243.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 299 248.88 L 295.5 241.88 L 299 243.63 L 302.5 241.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="184" y="90" width="230" height="120" rx="18" ry="18" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 150px; margin-left: 185px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><font color="#000000"><span style="font-size: 12px;">userTransports</span></font><br /></div><div><font color="#000000"><span style="font-size: 12px;">用户定义的传输</span></font></div><div><div><font color="#000000"><span style="font-size: 12px;">就是</span></font></div><div><font color="#000000"><span style="font-size: 12px;">UDPv4TransportDescriptor</span><br /></font></div><div><font color="#000000"><span style="font-size: 12px;">UDPv6TransportDescriptor</span><br /></font></div><div><font color="#000000"><span style="font-size: 12px;">TCPv4TransportDescriptor</span></font></div></div><div><span style="color: rgb(0, 0, 0); font-size: 12px;">TCPv6TransportDescriptor</span><font color="#000000"><span style="font-size: 12px;"><br /></span></font></div><div><font color="#000000"><span style="font-size: 12px;">等等</span></font></div></div></div></div></foreignObject><text x="299" y="153" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">userTransports...</text></switch></g></g><g><path d="M 614 280 L 647.63 280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 652.88 280 L 645.88 283.5 L 647.63 280 L 645.88 276.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="404" y="215" width="210" height="130" rx="19.5" ry="19.5" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 280px; margin-left: 405px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><font color="#000000" style="font-size: 12px;">这里会调用</font><span style="color: rgb(0, 0, 0); font-size: 12px; background-color: initial;">用户定义的传输的</span><span style="background-color: initial; font-size: 12px;"><font color="#000000">create_transport</font></span></div><div><span style="background-color: initial; font-size: 12px;"><font color="#000000">方法得到一个</font></span><span style="background-color: initial; font-size: 12px;"><font color="#000000">TransportInterface接口</font></span></div><div><font color="#000000"><span style="font-size: 12px;">接口就是</span></font></div><div><span style="background-color: initial;"><font color="#000000" style=""><span style="font-size: 12px;">UDPv4Transport</span><br /></font></span></div><div><span style="background-color: initial;"><font color="#000000" style=""><span style="font-size: 12px;">UDPv6Transport</span><br /></font></span></div><div><span style="background-color: initial;"><font color="#000000" style=""><span style="font-size: 12px;">TCPv4Transport</span><br /></font></span></div><div><span style="background-color: initial;"><font color="#000000" style=""><span style="font-size: 12px;">TCPv6Transport</span><br /></font></span></div><div><font color="#000000"><span style="font-size: 12px;">等等</span></font></div></div></div></div></foreignObject><text x="509" y="283" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">这里会调用用户定义的传输的create_transport...</text></switch></g></g><g><path d="M 719 310 L 719 363.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 719 368.88 L 715.5 361.88 L 719 363.63 L 722.5 361.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="654" y="250" width="130" height="60" rx="9" ry="9" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 280px; margin-left: 655px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><font color="#000000" style="font-size: 12px;">保存在</font><span style="color: rgb(0, 0, 0); font-size: 12px; background-color: initial;">NetworkFactory的</span><font color="#000000" style="background-color: initial; font-size: 12px;">成员</font><span style="background-color: initial; font-size: 12px;"><font color="#000000">mRegisteredTransports中</font></span></div></div></div></div></foreignObject><text x="719" y="283" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">保存在NetworkFactory的成员mRegisteredT...</text></switch></g></g><g><path d="M 719 430 L 719.09 450 L 591.45 450 L 591.45 360 L 464 360 L 464 373.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 464 378.88 L 460.5 371.88 L 464 373.63 L 467.5 371.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="619" y="370" width="200" height="60" rx="9" ry="9" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 400px; margin-left: 620px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#000000"><span style="font-size: 12px;">调用createReceiverResources创建接收资源</span></font></div></div></div></foreignObject><text x="719" y="403" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">调用createReceiverResources创建接收资源</text></switch></g></g><g><rect x="404" y="0" width="200" height="60" rx="9" ry="9" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 30px; margin-left: 405px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(0, 0, 0); font-size: 12px;">RTPSParticipantImpl构造函数</span></div></div></div></foreignObject><text x="504" y="33" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">RTPSParticipantImpl构造函数</text></switch></g></g><g><path d="M 464 440 L 464 460 L 341.45 460 L 341.45 410 L 325.37 410" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 320.12 410 L 327.12 406.5 L 325.37 410 L 327.12 413.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="364" y="380" width="200" height="60" rx="9" ry="9" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 410px; margin-left: 365px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#000000"><span style="font-size: 12px;">会调用</span></font><span style="color: rgb(0, 0, 0); font-size: 12px;">NetworkFactory::</span><div><font color="#000000"><span style="font-size: 12px;">BuildReceiverResources</span></font></div></div></div></div></foreignObject><text x="464" y="413" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">会调用NetworkFactory::...</text></switch></g></g><g><path d="M 161.5 460 L 161.5 493.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 161.5 498.88 L 158 491.88 L 161.5 493.63 L 165 491.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="4" y="360" width="315" height="100" rx="15" ry="15" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 313px; height: 1px; padding-top: 410px; margin-left: 5px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#000000"><span style="font-size: 12px;">创建接收资源通道</span></font><div><font color="#000000"><span style="font-size: 12px;">ReceiverResource</span><br /></font></div><div><font color="#000000"><span style="font-size: 12px;">这里初始化会打开网络通道</span></font></div><div><font color="#000000"><span style="font-size: 12px;">然后这里还会创建</span></font><font color="#000000" style="background-color: initial;"><span style="font-size: 12px;">XXX</span></font><span style="background-color: initial; color: rgb(0, 0, 0); font-size: 12px;">Transport</span><span style="font-size: 12px; color: rgb(0, 0, 0); background-color: initial;">对应的XXX</span><span style="background-color: initial; font-size: 12px;"><font color="#000000">ChannelResource,</font></span></div><div><span style="background-color: initial; font-size: 12px; color: rgb(0, 0, 0);">XXX</span><span style="background-color: initial; font-size: 12px;"><font color="#000000">ChannelResource是一个接收线程会等待消息来临后触发</font></span><span style="color: rgb(0, 0, 0); font-size: 12px; background-color: initial;">ReceiverResource::</span><span style="color: rgb(0, 0, 0); background-color: initial; font-size: 12px;">OnDataReceived</span></div></div></div></div></foreignObject><text x="162" y="413" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">创建接收资源通道ReceiverResource...</text></switch></g></g><g><rect x="0.25" y="500" width="322.5" height="100" rx="15" ry="15" fill="#f2cc8f" stroke="#e07a5f" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 321px; height: 1px; padding-top: 550px; margin-left: 1px;"><div data-drawio-colors="color: #393C56; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(57, 60, 86); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#000000"><span style="font-size: 12px;">将MessageReceiver与</span></font><span style="color: rgb(0, 0, 0); font-size: 12px;">ReceiverResource关联，会在</span><span style="color: rgb(0, 0, 0); font-size: 12px;">OnDataReceived触发的时候触发</span><font color="#000000"><span style="font-size: 12px;">processCDRMsg函数</span></font></div></div></div></foreignObject><text x="162" y="553" fill="#393C56" font-family="Helvetica" font-size="10px" text-anchor="middle">将MessageReceiver与ReceiverResource关联，会在OnDataReceived触发的时候触发processCDRMsg函数</text></switch></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>